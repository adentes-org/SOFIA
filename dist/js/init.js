"use strict";var S=S||{},language=localStorage["sofia-language"]||navigator.language||navigator.userLanguage||"en";requirejs.config({baseUrl:"dist",paths:{app:"js",platform:"platform",lib:"lib",cordova:"../cordova",jquery:"lib/jquery/jquery.min",pouchdb:"lib/pouchdb/pouchdb.min","pouchdb-authentication":"lib/pouchdb-authentication/pouchdb.authentication.min",vue:"lib/vue/vue.min","vue-router":"lib/vue-router/vue-router.min",promise:"lib/requirejs-promise/requirejs-promise","dialog-polyfill":"lib/dialog-polyfill/dialog-polyfill",i18n:"lib/requirejs-i18n/i18n",moment:"lib/moment/moment.min","moment-locales":"lib/moment/locales.min",objectdiff:"lib/objectdiff/objectDiff"},shim:{cordova:{exports:"cordova"},jquery:{exports:"$"},pouchdb:{exports:"PouchDB"}},config:{i18n:{locale:language}}}),S.init=function(o){requirejs(["jquery","i18n!app/nls/base","vue","vue-router","pouchdb","dialog-polyfill","moment","moment-locales","app/sofia.polyfill","objectdiff"],function(e,i,a,l,r,t,n){a.use(l),window.PouchDB=r,window.Vue=a,window.VueRouter=l,n.locale(language),window.moment=n,S.lang=i,window.dialogPolyfill=t,e("head").append('<link rel="stylesheet" type="text/css" href="dist/lib/dialog-polyfill/dialog-polyfill.css">'),requirejs(["pouchdb-authentication","app/sofia.tool","app/sofia.template","app/sofia.config"],function(){e("head").append('<link rel="stylesheet" type="text/css" href="dist/platform/'+o.platformId+'/css/style.css">'),requirejs(["platform/"+o.platformId+"/init","app/sofia.db","app/sofia.user"],function(){requirejs(["app/sofia.vue","app/sofia.data","app/sofia.app"],function(){window.setTimeout(S.app.initialize,250)})})})})},requirejs(["cordova"],S.init,function(o){if(console.log(o.requireModules,o.requireType),!o||1!==o.requireModules.length||"cordova"!==o.requireModules[0]||"scripterror"!==o.requireType)throw o;window.cordova={is_mock:!0,platformId:"browser"},S.init(window.cordova)});